@import "tailwindcss";

/* Enable class-based dark mode for Tailwind v4 */
@variant dark (&:where(.dark, .dark *));

/* Define Tailwind v4 custom color utilities using separate token names */
@theme {
  /* Map Tailwind utility names to runtime CSS variables */
  --color-bg: rgb(var(--app-bg) / <alpha-value>);
  --color-bg-alt: rgb(var(--app-bg-alt) / <alpha-value>);
  --color-default: rgb(var(--app-text) / <alpha-value>);
  --color-muted: rgb(var(--app-text-muted) / <alpha-value>);
  --color-border: rgb(var(--app-border) / <alpha-value>);
  --color-accent: rgb(var(--app-accent) / <alpha-value>);
  --color-accent-hover: rgb(var(--app-accent-hover) / <alpha-value>);
  --color-accent-text: rgb(var(--app-accent-text) / <alpha-value>);
  --color-tag-form: rgb(var(--app-tag-form) / <alpha-value>);
  --color-tag-form-text: rgb(var(--app-tag-form-text) / <alpha-value>);
  --color-tag-meter: rgb(var(--app-tag-meter) / <alpha-value>);
  --color-tag-meter-text: rgb(var(--app-tag-meter-text) / <alpha-value>);
  --color-tag-device: rgb(var(--app-tag-device) / <alpha-value>);
  --color-tag-device-text: rgb(var(--app-tag-device-text) / <alpha-value>);
  
  /* Radius */
  --radius-sm: 0.125rem;
  --radius-md: 0.25rem;
  --radius-lg: 0.375rem;
  --radius-xl: 0.5rem;
}

/* Base Styles */
body {
  font-family: 'Source Code Pro', monospace;
}

/* 
   THEME PHILOSOPHY: 3 Shades + Creative Highlight
   Shade 1: Background (Deepest/Lightest Base)
   Shade 2: Surface (Interactive/Card Layer)
   Shade 3: Border (Structural Definition)
   Highlight: Vibrant Accent
*/

/* --- THEME: Dark (Midnight Scholar) - Default --- */
:root {
  --app-bg: 10 10 10; /* Shade 1: Absolute Black base */
  --app-bg-alt: 28 28 28; /* Shade 2: Lifted Charcoal surface (1C1C1C adjusted for contrast) */
  --app-border: 45 45 45; /* Shade 3: Subtle structure */

  --app-text: 237 237 237;
  --app-text-muted: 115 115 115;
  
  /* Highlight: Electric Indigo */
  --app-accent: 99 102 241;
  --app-accent-hover: 129 140 248;
  --app-accent-text: 255 255 255;
  
  /* Muted Tags */
  --app-tag-form: 115 115 115;
  --app-tag-form-text: 237 237 237;
  --app-tag-meter: 115 115 115;
  --app-tag-meter-text: 237 237 237;
  --app-tag-device: 115 115 115;
  --app-tag-device-text: 237 237 237;
}

/* --- THEME: Light (Canvas Theory) - Default --- */
.light { 
  --app-bg: 252 252 252; /* Shade 1: Pure Canvas */
  --app-bg-alt: 243 244 246; /* Shade 2: Cool Gray Surface */
  --app-border: 229 231 235; /* Shade 3: Structural Gray */

  --app-text: 17 24 39;
  --app-text-muted: 107 114 128;
  
  /* Highlight: Deep Emerald */
  --app-accent: 5 150 105;
  --app-accent-hover: 16 185 129;
  --app-accent-text: 255 255 255;
  
  /* Muted Tags */
  --app-tag-form: 107 114 128;
  --app-tag-form-text: 17 24 39;
  --app-tag-meter: 107 114 128;
  --app-tag-meter-text: 17 24 39;
  --app-tag-device: 107 114 128;
  --app-tag-device-text: 17 24 39;
}

/* --- THEME: Paper (Ancient Manuscript) - Premium --- */
.light.theme-paper {
  --app-bg: 253 250 245; /* Shade 1: Cream */
  --app-bg-alt: 244 240 232; /* Shade 2: Parchment Surface */
  --app-border: 226 218 205; /* Shade 3: Aged Edge */
  
  --app-text: 67 52 34; /* Deep Brown */
  --app-text-muted: 156 143 124;
  
  /* Highlight: Sepia Ink */
  --app-accent: 146 64 14; /* Amber-800 equivalent */
  --app-accent-hover: 180 83 9;
  --app-accent-text: 255 255 255;
}

.dark.theme-paper {
  --app-bg: 30 25 20; /* Shade 1: Dark Leather */
  --app-bg-alt: 45 40 35; /* Shade 2: Warm Stone Surface */
  --app-border: 75 65 55; /* Shade 3: Bronze Edge */
  
  --app-text: 235 230 225;
  --app-text-muted: 170 160 150;
  
  /* Highlight: Gold Leaf */
  --app-accent: 217 119 6; /* Amber-600 */
  --app-accent-hover: 245 158 11;
  --app-accent-text: 30 25 20;
}

/* --- THEME: Slate (Technical Blueprint) - Premium --- */
.light.theme-slate {
  --app-bg: 248 250 252; /* Shade 1: Ice White */
  --app-bg-alt: 241 245 249; /* Shade 2: Mist Surface */
  --app-border: 203 213 225; /* Shade 3: Frost Border */
  
  --app-text: 51 65 85; /* Slate 700 */
  --app-text-muted: 100 116 139;
  
  /* Highlight: Navy Blue */
  --app-accent: 15 23 42; /* Slate 900 */
  --app-accent-hover: 51 65 85;
  --app-accent-text: 255 255 255;
}

.dark.theme-slate {
  --app-bg: 15 23 42; /* Shade 1: Deep Ocean */
  --app-bg-alt: 30 41 59; /* Shade 2: Midnight Surface */
  --app-border: 51 65 85; /* Shade 3: Steel Edge */
  
  --app-text: 226 232 240; /* Slate 200 */
  --app-text-muted: 148 163 184;
  
  /* Highlight: Cyan */
  --app-accent: 6 182 212; /* Cyan 500 */
  --app-accent-hover: 34 211 238;
  --app-accent-text: 15 23 42;
}

/* Custom Utilities */
.bg-bg { background-color: rgb(var(--app-bg)); }
.bg-bg-alt { background-color: rgb(var(--app-bg-alt)); }
.text-default { color: rgb(var(--app-text)); }
.text-muted { color: rgb(var(--app-text-muted)); }
.border-default { border-color: rgb(var(--app-border)); }
.bg-accent { background-color: rgb(var(--app-accent)); }
.text-accent { color: rgb(var(--app-accent)); }
.bg-accent-hover { background-color: rgb(var(--app-accent-hover)); }
.text-accent-text { color: rgb(var(--app-accent-text)); }

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}
