@import "tailwindcss";

/* Enable class-based dark mode for Tailwind v4 */
@variant dark (&:where(.dark, .dark *));

/* Define Tailwind v4 custom color utilities using separate token names */
@theme {
  /* Map Tailwind utility names to runtime CSS variables */
  --color-bg: rgb(var(--app-bg) / <alpha-value>);
  --color-bg-alt: rgb(var(--app-bg-alt) / <alpha-value>);
  --color-default: rgb(var(--app-text) / <alpha-value>);
  --color-muted: rgb(var(--app-text-muted) / <alpha-value>);
  --color-border: rgb(var(--app-border) / <alpha-value>);
  --color-accent: rgb(var(--app-accent) / <alpha-value>);
  --color-accent-hover: rgb(var(--app-accent-hover) / <alpha-value>);
  --color-accent-text: rgb(var(--app-accent-text) / <alpha-value>);
  --color-tag-form: rgb(var(--app-tag-form) / <alpha-value>);
  --color-tag-form-text: rgb(var(--app-tag-form-text) / <alpha-value>);
  --color-tag-meter: rgb(var(--app-tag-meter) / <alpha-value>);
  --color-tag-meter-text: rgb(var(--app-tag-meter-text) / <alpha-value>);
  --color-tag-device: rgb(var(--app-tag-device) / <alpha-value>);
  --color-tag-device-text: rgb(var(--app-tag-device-text) / <alpha-value>);
}

/* --- THEME: Dark (Default) - Runtime CSS Variables --- */
:root { /* Light Mode */
  --app-bg: 255 255 255; /* white */
  --app-bg-alt: 248 250 252; /* slate-50 */
  --app-text: 15 23 42; /* slate-900 */
  --app-text-muted: 71 85 105; /* slate-600 */
  --app-border: 226 232 240; /* slate-200 */
  --app-accent: 15 23 42; /* slate-900 */
  --app-accent-hover: 0 0 0; /* black */
  --app-accent-text: 255 255 255; /* white */
  --app-tag-form: 244 63 94; /* rose-500 */
  --app-tag-form-text: 197 48 48; /* rose-600 */
  --app-tag-meter: 16 185 129; /* emerald-500 */
  --app-tag-meter-text: 5 122 85; /* emerald-600 */
  --app-tag-device: 99 102 241; /* indigo-500 */
  --app-tag-device-text: 67 56 202; /* indigo-700 */
}

.dark { /* Dark Mode */
  --app-bg: 17 17 17; /* near-black */
  --app-bg-alt: 38 38 38; /* gray-900 */
  --app-text: 229 229 229; /* gray-200 */
  --app-text-muted: 163 163 163; /* gray-400 */
  --app-border: 64 64 64; /* gray-800 */
  --app-accent: 245 245 245; /* gray-100 */
  --app-accent-hover: 255 255 255; /* white */
  --app-accent-text: 17 17 17; /* near-black */
  --app-tag-form-text: 251 113 133; /* rose-400 */
  --app-tag-meter-text: 52 211 153; /* emerald-400 */
  --app-tag-device-text: 129 140 248; /* indigo-400 */
}

/* --- THEME: Paper --- */
.theme-paper { /* Light Mode */
  --app-bg: 244 241 234;
  --app-bg-alt: 253 250 245;
  --app-text: 68 64 60;
  --app-text-muted: 120 113 108;
  --app-border: 214 207 196;
  --app-accent: 161 98 7;
  --app-accent-hover: 146 64 14;
  --app-accent-text: 255 255 255;
  --app-tag-form: 185 28 28; /* red-700 */
  --app-tag-form-text: 153 27 27; /* red-800 */
  --app-tag-meter: 3 105 161; /* sky-700 */
  --app-tag-meter-text: 7 89 133; /* sky-800 */
  --app-tag-device: 6 182 212; /* cyan-500 */
  --app-tag-device-text: 8 145 178; /* cyan-700 */
}

.dark.theme-paper { /* Dark Mode */
  --app-bg: 41 37 36;
  --app-bg-alt: 68 64 60;
  --app-text: 231 229 228;
  --app-text-muted: 168 162 158;
  --app-border: 87 83 78;
  --app-accent: 252 211 77;
  --app-accent-hover: 253 224 71;
  --app-accent-text: 41 37 36;
  --app-tag-form-text: 248 113 113; /* red-400 */
  --app-tag-meter-text: 125 211 252; /* sky-300 */
  --app-tag-device-text: 103 232 249; /* cyan-300 */
}

/* --- THEME: Slate --- */
.theme-slate { /* Light Mode */
  --app-bg: 241 245 249;
  --app-bg-alt: 255 255 255;
  --app-text: 51 65 85;
  --app-text-muted: 100 116 139;
  --app-border: 203 213 225;
  --app-accent: 71 85 105;
  --app-accent-hover: 30 41 59;
  --app-accent-text: 255 255 255;
  --app-tag-form: 126 34 206; /* purple-700 */
  --app-tag-form-text: 107 33 168; /* purple-800 */
  --app-tag-meter: 13 116 128; /* teal-700 */
  --app-tag-meter-text: 15 97 110; /* teal-800 */
  --app-tag-device: 2 132 199; /* sky-600 */
  --app-tag-device-text: 3 105 161; /* sky-700 */
}

.dark.theme-slate { /* Dark Mode */
  --app-bg: 30 41 59;
  --app-bg-alt: 51 65 85;
  --app-text: 203 213 225;
  --app-text-muted: 148 163 184;
  --app-border: 71 85 105;
  --app-accent: 100 116 139;
  --app-accent-hover: 148 163 184;
  --app-accent-text: 30 41 59;
  --app-tag-form-text: 192 132 252; /* purple-400 */
  --app-tag-meter-text: 107 235 208; /* teal-300 */
  --app-tag-device-text: 125 211 252; /* sky-300 */
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

@keyframes fadeInFast {
  from { opacity: 0; }
  to { opacity: 1; }
}
.animate-fade-in-fast {
  animation: fadeInFast 0.3s ease-out forwards;
}

@keyframes modalIn {
  from { opacity: 0; transform: translateY(20px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-modal-in {
  animation: modalIn 0.3s ease-out forwards;
}
